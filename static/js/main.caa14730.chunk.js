(this["webpackJsonptop-100-movies"]=this["webpackJsonptop-100-movies"]||[]).push([[0],{17:function(e,t,i){e.exports={section:"MoviesList_section__32F-i",title:"MoviesList_title__IimcN"}},25:function(e,t,i){},26:function(e,t,i){},36:function(e,t,i){},37:function(e,t,i){"use strict";i.r(t);var s=i(0),a=i.n(s),r=i(18),c=i.n(r),n=i(11),o=(i(25),i(19)),l=i(9),v=i(2),j=(i(26),i(1));var m=function(){return Object(j.jsx)("header",{className:"nav",children:Object(j.jsxs)("nav",{className:"wrapper",children:[Object(j.jsx)(n.b,{exact:!0,to:"/",className:"nav-link",children:"Top\xa0100\xa0iTunes\xa0Movies"}),Object(j.jsx)(n.b,{to:"favorites",className:"nav-link nav-right",children:"Favorites"})]})})},b=i(7),d=i.n(b);var u=function(e){var t=Object(s.useState)(!1),i=Object(l.a)(t,2),a=i[0],r=i[1],c=e.movie;return Object(j.jsxs)("div",{className:"".concat(d.a.menuItem," ").concat(a?d.a.expanded:""," ").concat(e.movie.isFavorite?d.a.favorite:""),onClick:function(){r((function(e){return!e}))},children:[Object(j.jsx)("div",{className:d.a.itemNumber,children:Object(j.jsx)("p",{children:e.number})}),Object(j.jsx)("div",{className:d.a.itemCover,children:Object(j.jsx)("img",{src:c.imageBig,alt:c.title,height:"170"})}),Object(j.jsxs)("div",{className:d.a.itemInfo,children:[Object(j.jsx)("h3",{children:c.title}),Object(j.jsxs)("p",{children:["Director: ",c.director]}),Object(j.jsxs)("p",{children:["Category: ",c.category]}),Object(j.jsxs)("p",{children:["Release Date: ",c.releaseDate]}),a?Object(j.jsx)("p",{className:d.a.description,children:Object(j.jsx)("small",{children:c.description})}):null]}),Object(j.jsx)("button",{className:d.a.favorites,onClick:function(t){t.stopPropagation(),e.setFavorite(e.movie.id,!e.movie.isFavorite)},children:c.isFavorite?"Remove from favorites":"Add to favorites"})]})},h=i(17),f=i.n(h),x=function(e){var t=0===e.movies.length;return Object(j.jsxs)("section",{className:f.a.section,children:[Object(j.jsx)("h1",{className:f.a.title,children:e.title}),e.children?e.children:null,t?Object(j.jsx)("p",{children:"No results"}):e.movies.map((function(t,i){return Object(j.jsx)(u,{movie:t,number:i+1,setFavorite:e.setFavorite},t.id)}))]})};var O=function(e){return Object(j.jsx)(x,{title:"My favorite movies",movies:e.movies,setFavorite:e.setFavorite})};var p=function(e){return Object(j.jsx)(x,{title:"Top 100 movies",movies:e.movies,setFavorite:e.setFavorite})};i(36);var _=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),i=t[0],a=t[1],r=Object(s.useState)(!1),c=Object(l.a)(r,2),n=c[0],b=c[1],d=Object(s.useState)(""),u=Object(l.a)(d,2),h=u[0],f=u[1],x=function(e){if(!e.ok)throw Error(e.statusText);return e.json()},_=function(e,t){var s=i.filter((function(t){return t.id===e}))[0];s.isFavorite=t;var r=i.map((function(t){return t.id===e?s:t}));a(r)};return Object(s.useEffect)((function(){console.log("Fetching..."),b(!1),fetch("https://itunes.apple.com/us/rss/topmovies/limit=100/json").then(x).then((function(e){var t,i=[],s=e.feed.entry,r=Object(o.a)(s);try{for(r.s();!(t=r.n()).done;){var c=t.value,n={id:c.id.attributes["im:id"],title:c["im:name"].label,rights:c.rights?c.rights.label:"",imageSmall:c["im:image"][0].label,imageBig:c["im:image"][2].label,description:c.summary.label,director:c["im:artist"].label,category:c.category.attributes.label,releaseDate:c["im:releaseDate"].attributes.label,isFavorite:!1};i.push(n)}}catch(l){r.e(l)}finally{r.f()}a(i)})).catch((function(e){b(!0),f(e)}))}),[]),n?Object(j.jsxs)("section",{children:[Object(j.jsx)("h2",{children:"Ooops there was an error!"}),Object(j.jsx)("p",{children:h})]}):Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(m,{}),Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsxs)(v.c,{children:[Object(j.jsx)(v.a,{path:"/",exact:!0,children:Object(j.jsx)(p,{movies:i,setFavorite:_})}),Object(j.jsx)(v.a,{path:"/favorites",exact:!0,children:Object(j.jsx)(O,{movies:i.filter((function(e){return e.isFavorite})),setFavorite:_})})]})})]})};c.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(n.a,{children:Object(j.jsx)(_,{})})}),document.getElementById("root"))},7:function(e,t,i){e.exports={menuItem:"Movie_menuItem__2crYu",favorite:"Movie_favorite__25r8f",itemNumber:"Movie_itemNumber__kv23f",itemCover:"Movie_itemCover__3aBqP",itemInfo:"Movie_itemInfo__38WsC",description:"Movie_description__11hkx",expand:"Movie_expand__32xTV",expanded:"Movie_expanded__hQ87v",favorites:"Movie_favorites__1xaNs"}}},[[37,1,2]]]);
//# sourceMappingURL=main.caa14730.chunk.js.map