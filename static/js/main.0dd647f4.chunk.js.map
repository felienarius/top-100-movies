{"version":3,"sources":["components/MoviesList.module.css","components/layout/MainNavigation.tsx","components/Movie.tsx","components/MoviesList.tsx","pages/Favorites.tsx","pages/Top100Movies.tsx","App.tsx","index.tsx","components/Movie.module.css"],"names":["module","exports","MainNavigation","className","exact","to","Movie","props","useState","showDescription","setShowDescription","movie","styles","menuItem","expanded","isFavorite","favorite","onClick","prevShowDescription","itemNumber","number","itemCover","src","imageBig","alt","title","height","itemInfo","director","category","releaseDate","description","xmlns","width","viewBox","e","stopPropagation","setFavorite","id","favorites","heart","d","MoviesList","isEmpty","movies","length","classes","section","children","map","index","FavoritesPage","Top100MoviesPage","App","loadedMovies","setLoadedMovies","hasError","setHasError","errorMessage","setErrorMessage","checkForError","response","ok","Error","statusText","json","value","newMovie","filter","tmpMovies","useEffect","console","log","fetch","then","data","entries","feed","entry","attributes","label","rights","imageSmall","summary","push","catch","error","path","Top100Movies","Favorites","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0dd647f4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"MoviesList_section__32F-i\",\"title\":\"MoviesList_title__IimcN\"};","import { NavLink } from \"react-router-dom\";\r\nimport \"./MainNavigation.css\";\r\n\r\nfunction MainNavigation() {\r\n  return (\r\n    <header className=\"nav\">\r\n      <nav className=\"wrapper\">\r\n        <NavLink exact to=\"/top-100-movies/\" className=\"nav-link\">\r\n          Top&nbsp;100&nbsp;iTunes&nbsp;Movies\r\n        </NavLink>\r\n        <NavLink to=\"/top-100-movies/favorites\" className=\"nav-link nav-right\">\r\n          Favorites\r\n        </NavLink>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default MainNavigation;\r\n","import { useState } from \"react\";\r\nimport styles from \"./Movie.module.css\";\r\n\r\nexport interface MovieData {\r\n  id: number;\r\n  isFavorite: boolean;\r\n  title: string;\r\n  rights: string;\r\n  imageSmall: string;\r\n  imageBig: string;\r\n  description: string;\r\n  director: string;\r\n  category: string;\r\n  releaseDate: string;\r\n}\r\n\r\nfunction Movie(props: { movie: MovieData; number: number; setFavorite: any }) {\r\n  const [showDescription, setShowDescription] = useState(false);\r\n  const { movie } = props;\r\n\r\n  function onClick() {\r\n    setShowDescription((prevShowDescription) => !prevShowDescription);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`${styles.menuItem} ${\r\n        showDescription ? styles.expanded : \"\"\r\n      } ${props.movie.isFavorite ? styles.favorite : \"\"}`}\r\n      onClick={onClick}\r\n    >\r\n      <div className={styles.itemNumber}>\r\n        <p>{props.number}</p>\r\n      </div>\r\n      <div className={styles.itemCover}>\r\n        <img src={movie.imageBig} alt={movie.title} height=\"170\" />\r\n      </div>\r\n      <div className={styles.itemInfo}>\r\n        <h3>{movie.title}</h3>\r\n        <p>Director: {movie.director}</p>\r\n        <p>Category: {movie.category}</p>\r\n        <p>Release Date: {movie.releaseDate}</p>\r\n        {showDescription ? (\r\n          <p className={styles.description}>\r\n            <small>{movie.description}</small>\r\n          </p>\r\n        ) : null}\r\n      </div>\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"60\"\r\n        height=\"50\"\r\n        viewBox=\"0 0 77 64\"\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n          props.setFavorite(props.movie.id, !props.movie.isFavorite);\r\n        }}\r\n        className={styles.favorites}\r\n      >\r\n        <path\r\n          className={styles.heart}\r\n          d=\"m37.09 61.681c-2.47-1.28-6.67-3.96-9.84-6.26 -6.66-4.83-13.95-11.53-17.78-16.32 -5.74-7.19-8.47-14.06-8.03-20.18 0.48-6.65 4.67-12.39 11.04-15.12 2.45-1.05 4.47-1.51 7.52-1.73 2.07-0.15 4.84-0.02 6.37 0.31 2.09 0.44 5.12 1.71 6.78 2.84 2.16 1.48 4.01 3.82 4.76 6.01 0.1 0.3 0.23 0.53 0.29 0.52 0.06-0.02 0.28-0.36 0.49-0.76 0.99-1.9 3.13-4.29 5.04-5.64 2.12-1.49 4.83-2.64 7.22-3.04 2.58-0.44 6.47-0.41 9.25 0.07 4.37 0.76 9.75 4.21 12.12 7.78 3.18 4.77 3.98 10.33 2.44 16.82 -0.72 3.01-1.92 5.55-4.32 9.1 -5.2 7.7-13.35 15.01-25.02 22.44 -2.52 1.6-6.55 3.84-6.91 3.84 -0.07 0-0.7-0.3-1.42-0.68z\"\r\n        />\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Movie;\r\n","import { FunctionComponent } from \"react\";\r\nimport Movie from \"./Movie\";\r\nimport { MovieData } from \"./Movie\";\r\nimport classes from \"./MoviesList.module.css\";\r\n\r\ninterface MoviesListProps {\r\n  title: string;\r\n  movies: MovieData[];\r\n  setFavorite: (id: number, value: boolean) => void;\r\n}\r\n\r\nconst MoviesList: FunctionComponent<MoviesListProps> = (props) => {\r\n  const isEmpty = props.movies.length === 0;\r\n\r\n  return (\r\n    <section className={classes.section}>\r\n      <h1 className={classes.title}>{props.title}</h1>\r\n      {props.children ? props.children : null}\r\n      {isEmpty ? (\r\n        <p>No results</p>\r\n      ) : (\r\n        props.movies.map((movie, index) => (\r\n          <Movie\r\n            key={movie.id}\r\n            movie={movie}\r\n            number={index + 1}\r\n            setFavorite={props.setFavorite}\r\n          />\r\n        ))\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default MoviesList;\r\n","import { MovieData } from \"../components/Movie\";\r\nimport MoviesList from \"../components/MoviesList\";\r\n\r\nfunction FavoritesPage(props: {\r\n  movies: MovieData[];\r\n  setFavorite: (id: number, value: boolean) => void;\r\n}) {\r\n  return <MoviesList\r\n  title=\"My favorite movies\"\r\n  movies={props.movies}\r\n  setFavorite={props.setFavorite}\r\n/>\r\n}\r\n\r\nexport default FavoritesPage;\r\n","import { MovieData } from \"../components/Movie\";\r\nimport MoviesList from \"../components/MoviesList\";\r\n\r\nfunction Top100MoviesPage(props: {\r\n  movies: MovieData[];\r\n  setFavorite: (id: number, value: boolean) => void;\r\n}) {\r\n  return (\r\n    <MoviesList\r\n      title=\"Top 100 movies\"\r\n      movies={props.movies}\r\n      setFavorite={props.setFavorite}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Top100MoviesPage;\r\n","import { useEffect, useState } from \"react\";\r\nimport { Route, Switch } from \"react-router\";\r\n\r\nimport { MovieData } from \"./components/Movie\";\r\nimport MainNavigation from \"./components/layout/MainNavigation\";\r\nimport FavoritesPage from \"./pages/Favorites\";\r\nimport Top100MoviesPage from \"./pages/Top100Movies\";\r\nimport \"./App.css\";\r\n\r\ninterface Entry {\r\n  id: { attributes: { \"im:id\": number } };\r\n  \"im:name\": { label: string };\r\n  rights?: { label: string };\r\n  \"im:image\": { label: string }[];\r\n  summary: { label: string };\r\n  \"im:artist\": { label: string };\r\n  category: { attributes: { label: string } };\r\n  \"im:releaseDate\": { attributes: { label: string } };\r\n}\r\n\r\nfunction App() {\r\n  const [loadedMovies, setLoadedMovies] = useState([] as MovieData[]);\r\n  const [hasError, setHasError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const checkForError = (response: Response) => {\r\n    if (!response.ok) throw Error(response.statusText);\r\n    return response.json();\r\n  };\r\n\r\n  const setFavorite = (id: number, value: boolean) => {\r\n    const newMovie = loadedMovies.filter((movie) => movie.id === id)[0];\r\n    newMovie.isFavorite = value;\r\n    const tmpMovies = loadedMovies.map((movie) =>\r\n      movie.id === id ? newMovie : movie\r\n    );\r\n    setLoadedMovies(tmpMovies);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"Fetching...\");\r\n    setHasError(false);\r\n    fetch(\"https://itunes.apple.com/us/rss/topmovies/limit=100/json\")\r\n      .then(checkForError)\r\n      .then((data) => {\r\n        const movies = [];\r\n        const entries = data.feed.entry as Entry[];\r\n\r\n        for (const entry of entries) {\r\n          const movie = {\r\n            id: entry.id.attributes[\"im:id\"],\r\n            title: entry[\"im:name\"].label,\r\n            rights: entry.rights ? entry.rights.label : \"\",\r\n            imageSmall: entry[\"im:image\"][0].label,\r\n            imageBig: entry[\"im:image\"][2].label,\r\n            description: entry.summary.label,\r\n            director: entry[\"im:artist\"].label,\r\n            category: entry.category.attributes.label,\r\n            releaseDate: entry[\"im:releaseDate\"].attributes.label,\r\n            isFavorite: false,\r\n          };\r\n\r\n          movies.push(movie);\r\n        }\r\n\r\n        setLoadedMovies(movies);\r\n      })\r\n      .catch((error) => {\r\n        setHasError(true);\r\n        setErrorMessage(error);\r\n      });\r\n  }, []);\r\n\r\n  if (hasError) {\r\n    return (\r\n      <section>\r\n        <h2>Ooops there was an error!</h2>\r\n        <p>{errorMessage}</p>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <MainNavigation />\r\n      <div className=\"wrapper\">\r\n        <Switch>\r\n          <Route path=\"/top-100-movies/\" exact>\r\n            <Top100MoviesPage movies={loadedMovies} setFavorite={setFavorite}/>\r\n          </Route>\r\n          <Route path=\"/top-100-movies/favorites\" exact>\r\n            <FavoritesPage movies={loadedMovies.filter(movie => movie.isFavorite)} setFavorite={setFavorite}/>\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menuItem\":\"Movie_menuItem__2crYu\",\"favorite\":\"Movie_favorite__25r8f\",\"itemNumber\":\"Movie_itemNumber__kv23f\",\"itemCover\":\"Movie_itemCover__3aBqP\",\"itemInfo\":\"Movie_itemInfo__38WsC\",\"description\":\"Movie_description__11hkx\",\"expand\":\"Movie_expand__32xTV\",\"expanded\":\"Movie_expanded__hQ87v\",\"favorites\":\"Movie_favorites__1xaNs\",\"heart\":\"Movie_heart__3_9mB\"};"],"sourceRoot":""}