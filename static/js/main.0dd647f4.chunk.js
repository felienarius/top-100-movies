(this["webpackJsonptop-100-movies"]=this["webpackJsonptop-100-movies"]||[]).push([[0],{17:function(e,t,i){e.exports={section:"MoviesList_section__32F-i",title:"MoviesList_title__IimcN"}},25:function(e,t,i){},26:function(e,t,i){},36:function(e,t,i){},37:function(e,t,i){"use strict";i.r(t);var s=i(0),a=i.n(s),c=i(18),r=i.n(c),n=i(11),o=(i(25),i(19)),l=i(9),v=i(2),j=(i(26),i(1));var m=function(){return Object(j.jsx)("header",{className:"nav",children:Object(j.jsxs)("nav",{className:"wrapper",children:[Object(j.jsx)(n.b,{exact:!0,to:"/top-100-movies/",className:"nav-link",children:"Top\xa0100\xa0iTunes\xa0Movies"}),Object(j.jsx)(n.b,{to:"/top-100-movies/favorites",className:"nav-link nav-right",children:"Favorites"})]})})},b=i(7),d=i.n(b);var h=function(e){var t=Object(s.useState)(!1),i=Object(l.a)(t,2),a=i[0],c=i[1],r=e.movie;return Object(j.jsxs)("div",{className:"".concat(d.a.menuItem," ").concat(a?d.a.expanded:""," ").concat(e.movie.isFavorite?d.a.favorite:""),onClick:function(){c((function(e){return!e}))},children:[Object(j.jsx)("div",{className:d.a.itemNumber,children:Object(j.jsx)("p",{children:e.number})}),Object(j.jsx)("div",{className:d.a.itemCover,children:Object(j.jsx)("img",{src:r.imageBig,alt:r.title,height:"170"})}),Object(j.jsxs)("div",{className:d.a.itemInfo,children:[Object(j.jsx)("h3",{children:r.title}),Object(j.jsxs)("p",{children:["Director: ",r.director]}),Object(j.jsxs)("p",{children:["Category: ",r.category]}),Object(j.jsxs)("p",{children:["Release Date: ",r.releaseDate]}),a?Object(j.jsx)("p",{className:d.a.description,children:Object(j.jsx)("small",{children:r.description})}):null]}),Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"50",viewBox:"0 0 77 64",onClick:function(t){t.stopPropagation(),e.setFavorite(e.movie.id,!e.movie.isFavorite)},className:d.a.favorites,children:Object(j.jsx)("path",{className:d.a.heart,d:"m37.09 61.681c-2.47-1.28-6.67-3.96-9.84-6.26 -6.66-4.83-13.95-11.53-17.78-16.32 -5.74-7.19-8.47-14.06-8.03-20.18 0.48-6.65 4.67-12.39 11.04-15.12 2.45-1.05 4.47-1.51 7.52-1.73 2.07-0.15 4.84-0.02 6.37 0.31 2.09 0.44 5.12 1.71 6.78 2.84 2.16 1.48 4.01 3.82 4.76 6.01 0.1 0.3 0.23 0.53 0.29 0.52 0.06-0.02 0.28-0.36 0.49-0.76 0.99-1.9 3.13-4.29 5.04-5.64 2.12-1.49 4.83-2.64 7.22-3.04 2.58-0.44 6.47-0.41 9.25 0.07 4.37 0.76 9.75 4.21 12.12 7.78 3.18 4.77 3.98 10.33 2.44 16.82 -0.72 3.01-1.92 5.55-4.32 9.1 -5.2 7.7-13.35 15.01-25.02 22.44 -2.52 1.6-6.55 3.84-6.91 3.84 -0.07 0-0.7-0.3-1.42-0.68z"})})]})},u=i(17),x=i.n(u),p=function(e){var t=0===e.movies.length;return Object(j.jsxs)("section",{className:x.a.section,children:[Object(j.jsx)("h1",{className:x.a.title,children:e.title}),e.children?e.children:null,t?Object(j.jsx)("p",{children:"No results"}):e.movies.map((function(t,i){return Object(j.jsx)(h,{movie:t,number:i+1,setFavorite:e.setFavorite},t.id)}))]})};var O=function(e){return Object(j.jsx)(p,{title:"My favorite movies",movies:e.movies,setFavorite:e.setFavorite})};var f=function(e){return Object(j.jsx)(p,{title:"Top 100 movies",movies:e.movies,setFavorite:e.setFavorite})};i(36);var _=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),i=t[0],a=t[1],c=Object(s.useState)(!1),r=Object(l.a)(c,2),n=r[0],b=r[1],d=Object(s.useState)(""),h=Object(l.a)(d,2),u=h[0],x=h[1],p=function(e){if(!e.ok)throw Error(e.statusText);return e.json()},_=function(e,t){var s=i.filter((function(t){return t.id===e}))[0];s.isFavorite=t;var c=i.map((function(t){return t.id===e?s:t}));a(c)};return Object(s.useEffect)((function(){console.log("Fetching..."),b(!1),fetch("https://itunes.apple.com/us/rss/topmovies/limit=100/json").then(p).then((function(e){var t,i=[],s=e.feed.entry,c=Object(o.a)(s);try{for(c.s();!(t=c.n()).done;){var r=t.value,n={id:r.id.attributes["im:id"],title:r["im:name"].label,rights:r.rights?r.rights.label:"",imageSmall:r["im:image"][0].label,imageBig:r["im:image"][2].label,description:r.summary.label,director:r["im:artist"].label,category:r.category.attributes.label,releaseDate:r["im:releaseDate"].attributes.label,isFavorite:!1};i.push(n)}}catch(l){c.e(l)}finally{c.f()}a(i)})).catch((function(e){b(!0),x(e)}))}),[]),n?Object(j.jsxs)("section",{children:[Object(j.jsx)("h2",{children:"Ooops there was an error!"}),Object(j.jsx)("p",{children:u})]}):Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(m,{}),Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsxs)(v.c,{children:[Object(j.jsx)(v.a,{path:"/top-100-movies/",exact:!0,children:Object(j.jsx)(f,{movies:i,setFavorite:_})}),Object(j.jsx)(v.a,{path:"/top-100-movies/favorites",exact:!0,children:Object(j.jsx)(O,{movies:i.filter((function(e){return e.isFavorite})),setFavorite:_})})]})})]})};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(n.a,{children:Object(j.jsx)(_,{})})}),document.getElementById("root"))},7:function(e,t,i){e.exports={menuItem:"Movie_menuItem__2crYu",favorite:"Movie_favorite__25r8f",itemNumber:"Movie_itemNumber__kv23f",itemCover:"Movie_itemCover__3aBqP",itemInfo:"Movie_itemInfo__38WsC",description:"Movie_description__11hkx",expand:"Movie_expand__32xTV",expanded:"Movie_expanded__hQ87v",favorites:"Movie_favorites__1xaNs",heart:"Movie_heart__3_9mB"}}},[[37,1,2]]]);
//# sourceMappingURL=main.0dd647f4.chunk.js.map